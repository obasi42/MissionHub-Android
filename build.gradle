buildscript {
    repositories {
        mavenCentral()
    }

    dependencies {
        classpath 'com.android.tools.build:gradle:0.5.+'
    }
}

def getJenkinsBuildNumber() {
    return System.getenv("BUILD_NUMBER")
}

def isReleaseBuild() {
    return version.contains("SNAPSHOT") == false
}

def getVersionName() {
    if (getVersionCode() == -1) {
        return version
    } else {
        return version + "." + getVersionCode()
    }
}

def getVersionCode() {
    if (getJenkinsBuildNumber() != null && !("".equals(getJenkinsBuildNumber()))) {
        return getJenkinsBuildNumber();
    }
    return -1;
}

allprojects {
    version = "2.8-SNAPSHOT"
    group = "com.missionhub"

    repositories {
        maven { url 'http://nexus.cr-wd.com/content/repositories/releases/' }
        maven { url 'http://nexus.cr-wd.com/content/repositories/snapshots/' }
        mavenCentral()
    }
}

apply plugin: 'android-reporting'